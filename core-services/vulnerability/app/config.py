"""Configuration for the Vulnerability Intelligence service."""
from __future__ import annotations

from functools import lru_cache

from pydantic import BaseModel, Field


class Settings(BaseModel):
    """Runtime settings for the service."""

    service_name: str = "vulnerability-intelligence"
    https_enforced: bool = True
    max_results: int = Field(default=200, ge=10, le=500)
    max_matches_per_detection: int = Field(default=500, ge=50, le=2000)
    max_exposures_per_detection: int = Field(default=200, ge=10, le=500)


@lru_cache
def load_settings() -> Settings:
    """Load settings once per process."""
    return Settings()
